<template>
    <p class="error-message" v-if="error">
        {{ error }}
    </p>
    <div class="social-media-selector input-element" :class="wrapperClass">
        <label class="social-media-option" :class="isSelected(0)">
            <svg
                style="--color-brand: #1877f2"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M27 0H5C2.23858 0 0 2.23858 0 5V27C0 29.7614 2.23858 32 5 32H27C29.7614 32 32 29.7614 32 27V5C32 2.23858 29.7614 0 27 0Z"
                    fill="#DADADA"
                />
                <path
                    d="M24 16C24 11.6 20.4 8 16 8C11.6 8 8 11.6 8 16C8 20 10.9 23.3 14.7 23.9V18.3H12.7V16H14.7V14.2C14.7 12.2 15.9 11.1 17.7 11.1C18.6 11.1 19.5 11.3 19.5 11.3V13.3H18.5C17.5 13.3 17.2 13.9 17.2 14.5V16H19.4L19 18.3H17.1V24C21.1 23.4 24 20 24 16Z"
                    fill="white"
                />
            </svg>
            <input @click="toggleOption(0)" type="radio" :value="0" />
        </label>

        <label class="social-media-option" :class="isSelected(1)">
            <svg
                style="--color-brand: #1da1f2"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0 5C0 2.23858 2.23858 0 5 0H27C29.7614 0 32 2.23858 32 5V27C32 29.7614 29.7614 32 27 32H5C2.23858 32 0 29.7614 0 27V5ZM22.1 11.5C22.8 11.4 23.4 11.3 24 11C23.6 11.7 23 12.3 22.3 12.7C22.5 17.4 19.1 22.5 13 22.5C11.2 22.5 9.5 21.9 8 21C9.7 21.2 11.5 20.7 12.7 19.8C11.2 19.8 10 18.8 9.6 17.5C10.1 17.6 10.6 17.5 11.1 17.4C9.6 17 8.5 15.6 8.5 14.1C9 14.3 9.5 14.5 10 14.5C8.6 13.5 8.1 11.6 9 10.1C10.7 12.1 13.1 13.4 15.8 13.5C15.3 11.5 16.9 9.5 19 9.5C19.9 9.5 20.8 9.9 21.4 10.5C22.2 10.3 22.9 10.1 23.5 9.7C23.3 10.5 22.8 11.1 22.1 11.5Z"
                    fill="#DADADA"
                />
            </svg>
            <input @click="toggleOption(1)" type="radio" :value="1" />
        </label>

        <label class="social-media-option" :class="isSelected(2)">
            <svg
                style="--color-brand: #0077b5"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0 5C0 2.23858 2.23858 0 5 0H27C29.7614 0 32 2.23858 32 5V27C32 29.7614 29.7614 32 27 32H5C2.23858 32 0 29.7614 0 27V5ZM8.2 13.3V24H11.6V13.3H8.2ZM8 9.9C8 11 8.8 11.8 9.9 11.8C11 11.8 11.8 11 11.8 9.9C11.8 8.8 11 8 9.9 8C8.9 8 8 8.8 8 9.9ZM20.6 24H23.8V17.4C23.8 14.1 21.8 13 19.9 13C18.2 13 17 14.1 16.7 14.8V13.3H13.5V24H16.9V18.3C16.9 16.8 17.9 16 18.9 16C19.9 16 20.6 16.5 20.6 18.2V24Z"
                    fill="#DADADA"
                />
            </svg>
            <input @click="toggleOption(2)" type="radio" :value="2" />
        </label>

        <label class="social-media-option" :class="isSelected(3)">
            <svg
                style="--color-brand: #ff0000"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path d="M18.6 16L14.4 13.6V18.4L18.6 16Z" fill="#DADADA" />
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0 5C0 2.23858 2.23858 0 5 0H27C29.7614 0 32 2.23858 32 5V27C32 29.7614 29.7614 32 27 32H5C2.23858 32 0 29.7614 0 27V5ZM22.2 10.7C22.9 10.9 23.4 11.4 23.6 12.1C24 13.4 24 16 24 16C24 16 24 18.6 23.7 19.9C23.5 20.6 23 21.1 22.3 21.3C21 21.6 16 21.6 16 21.6C16 21.6 10.9 21.6 9.7 21.3C9 21.1 8.5 20.6 8.3 19.9C8 18.6 8 16 8 16C8 16 8 13.4 8.2 12.1C8.4 11.4 8.90001 10.9 9.60001 10.7C10.9 10.4 15.9 10.4 15.9 10.4C15.9 10.4 21 10.4 22.2 10.7Z"
                    fill="#DADADA"
                />
            </svg>
            <input @click="toggleOption(3)" type="radio" :value="3" />
        </label>

        <label class="social-media-option" :class="isSelected(4)">
            <svg
                style="--color-brand: #f00073"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M27 0H5C2.23858 0 0 2.23858 0 5V27C0 29.7614 2.23858 32 5 32H27C29.7614 32 32 29.7614 32 27V5C32 2.23858 29.7614 0 27 0Z"
                    fill="#DADADA"
                />
                <path
                    d="M16 9.2002C18.2 9.2002 18.5 9.2002 19.4 9.2002C20.2 9.2002 20.6 9.4002 20.9 9.5002C21.3 9.7002 21.6 9.8002 21.9 10.1002C22.2 10.4002 22.4 10.7002 22.5 11.1002C22.6 11.4002 22.7 11.8002 22.8 12.6002C22.8 13.5002 22.8 13.7002 22.8 16.0002C22.8 18.3002 22.8 18.5002 22.8 19.4002C22.8 20.2002 22.6 20.6002 22.5 20.9002C22.3 21.3002 22.2 21.6002 21.9 21.9002C21.6 22.2002 21.3 22.4002 20.9 22.5002C20.6 22.6002 20.2 22.7002 19.4 22.8002C18.5 22.8002 18.3 22.8002 16 22.8002C13.7 22.8002 13.5 22.8002 12.6 22.8002C11.8 22.8002 11.4 22.6002 11.1 22.5002C10.7 22.3002 10.4 22.2002 10.1 21.9002C9.79995 21.6002 9.59995 21.3002 9.49995 20.9002C9.39995 20.6002 9.29995 20.2002 9.19995 19.4002C9.19995 18.5002 9.19995 18.3002 9.19995 16.0002C9.19995 13.7002 9.19995 13.5002 9.19995 12.6002C9.19995 11.8002 9.39995 11.4002 9.49995 11.1002C9.69995 10.7002 9.79995 10.4002 10.1 10.1002C10.4 9.8002 10.7 9.6002 11.1 9.5002C11.4 9.4002 11.8 9.3002 12.6 9.2002C13.5 9.2002 13.8 9.2002 16 9.2002ZM16 7.7002C13.7 7.7002 13.5 7.7002 12.6 7.7002C11.7 7.7002 11.1 7.9002 10.6 8.1002C10.1 8.3002 9.59995 8.6002 9.09995 9.1002C8.59995 9.6002 8.39995 10.0002 8.09995 10.6002C7.89995 11.1002 7.79995 11.7002 7.69995 12.6002C7.69995 13.5002 7.69995 13.8002 7.69995 16.0002C7.69995 18.3002 7.69995 18.5002 7.69995 19.4002C7.69995 20.3002 7.89995 20.9002 8.09995 21.4002C8.29995 21.9002 8.59995 22.4002 9.09995 22.9002C9.59995 23.4002 9.99995 23.6002 10.6 23.9002C11.1 24.1002 11.7 24.2002 12.6 24.3002C13.5 24.3002 13.8 24.3002 16 24.3002C18.2 24.3002 18.5 24.3002 19.4 24.3002C20.3 24.3002 20.9 24.1002 21.4 23.9002C21.9 23.7002 22.4 23.4002 22.9 22.9002C23.4 22.4002 23.6 22.0002 23.9 21.4002C24.1 20.9002 24.1999 20.3002 24.2999 19.4002C24.2999 18.5002 24.2999 18.2002 24.2999 16.0002C24.2999 13.8002 24.2999 13.5002 24.2999 12.6002C24.2999 11.7002 24.1 11.1002 23.9 10.6002C23.7 10.1002 23.4 9.6002 22.9 9.1002C22.4 8.6002 22 8.4002 21.4 8.1002C20.9 7.9002 20.3 7.8002 19.4 7.7002C18.5 7.7002 18.3 7.7002 16 7.7002Z"
                    fill="white"
                />
                <path
                    d="M16 11.7002C13.6 11.7002 11.7 13.6002 11.7 16.0002C11.7 18.4002 13.6 20.3002 16 20.3002C18.4 20.3002 20.3 18.4002 20.3 16.0002C20.3 13.6002 18.4 11.7002 16 11.7002ZM16 18.8002C14.5 18.8002 13.2 17.6002 13.2 16.0002C13.2 14.5002 14.4 13.2002 16 13.2002C17.5 13.2002 18.8 14.4002 18.8 16.0002C18.8 17.5002 17.5 18.8002 16 18.8002Z"
                    fill="white"
                />
                <path
                    d="M20.4 12.6002C20.9522 12.6002 21.4 12.1525 21.4 11.6002C21.4 11.0479 20.9522 10.6002 20.4 10.6002C19.8477 10.6002 19.4 11.0479 19.4 11.6002C19.4 12.1525 19.8477 12.6002 20.4 12.6002Z"
                    fill="white"
                />
            </svg>
            <input @click="toggleOption(4)" type="radio" :value="4" />
        </label>

        <label class="social-media-option" :class="isSelected(5)">
            <svg
                style="--color-brand: #c8232c"
                width="32"
                height="32"
                viewBox="0 0 32 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0 5C0 2.23858 2.23858 0 5 0H27C29.7614 0 32 2.23858 32 5V27C32 29.7614 29.7614 32 27 32H5C2.23858 32 0 29.7614 0 27V5ZM8 16C8 11.6 11.6 8 16 8C20.4 8 24 11.6 23.9 15.6C23.9 20 20.3 23.6 15.9 23.6C15.1 23.6 14.3 23.5 13.6 23.3C13.9 22.8 14.2 22.2 14.4 21.6C14.5 21.2 15 19.4 15 19.4C15.3 19.9 16.1 20.4 17 20.4C19.6 20.4 21.3 18 21.3 14.9C21.3 12.5 19.3 10.3 16.2 10.3C12.4 10.3 10.5 13 10.5 15.3C10.5 16.7 11 17.9 12.1 18.4C12.3 18.5 12.4 18.4 12.5 18.2C12.6 18.1 12.7 17.7 12.7 17.6C12.7707 17.4586 12.7414 17.4172 12.6828 17.3343C12.6586 17.3 12.6293 17.2586 12.6 17.2C12.3 16.8 12.1 16.3 12.1 15.6C12.1 13.6 13.6 11.8 16 11.8C18.1 11.8 19.3 13.1 19.3 14.9C19.3 17.3 18.3 19.2 16.8 19.2C15.9 19.2 15.3 18.5 15.5 17.7C15.5835 17.2826 15.7192 16.8477 15.8491 16.4318C16.0303 15.8514 16.2 15.3078 16.2 14.9C16.2 14.2 15.8 13.7 15.1 13.7C14.3 13.7 13.6 14.6 13.6 15.8C13.6 16.6 13.9 17.1 13.9 17.1C13.9 17.1 13.1 20.8 12.9 21.5C12.8 22.1 12.8 22.6999 12.8 23.2999C10 22.0999 8 19.3 8 16Z"
                    fill="#DADADA"
                />
            </svg>

            <input @click="toggleOption(5)" type="radio" :value="5" />
        </label>
    </div>
</template>

<script>
export default {
    emits: ['valueChanged'],
    props: {
        inputName: String,
        error: String,
        wrapperClass: String,
        multiple: {
            default: false,
            type: Boolean,
        },
    },
    data() {
        return {
            options: [
                {
                    id: 0,
                    name: 'Facebook',
                },
                {
                    id: 1,
                    name: 'Twitter',
                },
                {
                    id: 2,
                    name: 'LinkedIn',
                },
                {
                    id: 3,
                    name: 'YouTube',
                },
                {
                    id: 4,
                    name: 'Instagram',
                },
                {
                    id: 5,
                    name: 'Pinterest',
                },
            ],
            selectedOptions: [],
            isSubmissionAllowed: false,
        };
    },
    methods: {
        valueChanged() {
            this.$emit('valueChanged', {
                input: this.inputName,
                value: this.multiple
                    ? this.selectedOptions
                    : this.selectedOptions[0],
            });
        },
        toggleOption(id) {
            let tempValue = this.options.filter((opt) => opt?.id === id)?.[0];

            if (!this.selectedOptions.includes(tempValue)) {
                if (!this.multiple) {
                    this.selectedOptions = [];
                }
                this.selectedOptions.push(tempValue);
            } else {
                this.selectedOptions = this.selectedOptions.filter(
                    (opt) => opt.id !== id
                );
            }

            this.valueChanged();
        },
        isSelected(id) {
            return this.selectedOptions.filter((opt) => opt.id === id).length
                ? 'active'
                : '';
        },
    },
};
</script>
